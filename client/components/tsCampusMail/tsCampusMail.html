<form class="form row" name="form" novalidate>
    <div class="form-group" ng-class="{ 'has-success': form.email.$valid && submitted && isCampusMail,
                                            'has-error': form.email.$invalid && submitted }">
        <label translate>Your University Email</label>
        <input ng-disabled="getCurrentUser().verified||emailDisabled" type="email" name="email" ng-blur="changeEmail()" class="form-control" ng-model="user.email" required mongoose-error/>
        <div class="alert alert-danger help-block" ng-show="!isCampusMail && submitted && user.email.length" translate>
            tablesurfer is only for students. Please the allowed university email addresses <a ui-sref="universities">here</a>.
        </div>
        <p class="help-block" ng-show="form.email.$error.required && submitted" translate>
            What's your university email?
        </p>
        <p class="help-block" ng-show="form.email.$error.mongoose">
            {{ errors.email }}
        </p>
    </div>
</form>
<ts-verify ng-show="isCampusMail"></ts-verify>
